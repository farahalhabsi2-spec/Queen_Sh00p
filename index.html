<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>كوين شوب</title>
<style>
  :root{--pink:#e60073;--pink-100:#ffe6f2;--pink-50:#fff0f8;--text:#222}
  *{box-sizing:border-box}
  body{margin:0;font-family:Tahoma,Arial,sans-serif;background:var(--pink-50);color:var(--text)}
  a{color:inherit;text-decoration:none}

  /* Header */
  .top-bar{position:sticky;top:0;z-index:50;display:flex;gap:10px;align-items:center;justify-content:space-between;background:var(--pink);color:#fff;padding:10px}
  .brand{font-weight:bold}
  .search{flex:1;display:flex;align-items:center;background:#fff;border-radius:8px;padding:6px 10px}
  .search input{flex:1;border:0;outline:0;font-size:14px}
  .cart-btn{position:relative;background:#fff;color:var(--pink);border:0;border-radius:8px;padding:6px 10px;font-weight:bold}
  .badge{position:absolute;top:-6px;left:-6px;background:#111;color:#fff;border-radius:999px;font-size:11px;line-height:1;padding:3px 6px}

  /* Sidebar (quick links) */
  .sidebar{background:var(--pink-100);padding:16px}
  .sidebar h3{margin:0 0 8px}
  .links a{display:block;padding:6px 10px;border-radius:8px}
  .links a:hover{background:#fff}

  /* Accordion for "العناية" */
  details{background:#fff;border-radius:10px;margin:8px 0;padding:10px}
  details>summary{cursor:pointer;font-weight:bold}
  details .subcats a{display:block;padding:6px 8px;border-radius:6px}
  details .subcats a:hover{background:var(--pink-50)}

  /* Welcome card */
  .welcome{background:#ffc6d9;padding:16px;margin:12px;border-radius:12px;text-align:center}

  /* Products */
  .section-title{margin:10px 12px}
  .products{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px;padding:12px}
  .product{background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.06);padding:10px;text-align:center}
  .product img{width:100%;height:140px;object-fit:cover;border-radius:10px;background:#f7f7f7}
  .price{font-weight:bold;color:var(--pink)}
  .add{margin-top:6px;width:100%;background:var(--pink);color:#fff;border:0;border-radius:8px;padding:8px;cursor:pointer}

  /* Floating buttons */
  .floating{position:fixed;right:14px;bottom:14px;display:flex;flex-direction:column;gap:10px;z-index:40}
  .float-btn{display:inline-flex;align-items:center;gap:8px;background:#25d366;color:#fff;padding:10px 14px;border-radius:999px;font-weight:600}
  .float-btn.ig{background:#e1306c}
  main{padding-bottom:110px} /* مساحة تحت لأزرار الطفو */

  /* Cart drawer */
  .overlay{position:fixed;inset:0;background:rgba(0,0,0,.4);display:none;z-index:90}
  .overlay.show{display:block}
  .cart{position:fixed;top:0;left:-380px;width:340px;height:100dvh;background:#fff;box-shadow:2px 0 12px rgba(0,0,0,.2);padding:16px;overflow:auto;transition:.25s;z-index:100}
  .cart.open{left:0}
  .cart h2{color:var(--pink);margin-top:0}
  .cart-item{display:flex;justify-content:space-between;align-items:center;padding:6px 0;border-bottom:1px dashed #eee}
  .cart-item small{color:#666}
  .remove{background:#ff4d4f;color:#fff;border:0;border-radius:6px;padding:4px 8px;cursor:pointer}
  .total{display:flex;justify-content:space-between;margin-top:10px;font-weight:bold}
  .checkout-btn{width:100%;background:green;color:#fff;border:0;border-radius:8px;padding:10px;margin-top:10px;cursor:pointer}

  /* Checkout modal */
  .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.45);z-index:120}
  .modal.show{display:grid}
  .sheet{width:min(520px,94vw);background:#fff;border-radius:14px;padding:16px}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .field{margin:6px 0;text-align:right}
  .field input, .field select, .field textarea{width:100%;padding:8px;border:1px solid #ddd;border-radius:8px}
  .pay-options{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;margin:6px 0}
  .sheet h3{margin:6px 0 10px}
  .sheet .actions{display:flex;gap:8px;justify-content:space-between}
  .btn{padding:10px 12px;border:0;border-radius:8px;cursor:pointer}
  .btn.cancel{background:#eee}
  .btn.primary{background:var(--pink);color:#fff}

  /* Reviews */
  .reviews{background:#fff;margin:12px;border-radius:12px;padding:12px}
  .review{border-top:1px dashed #eee;padding:8px 0;text-align:right}
  .stars{color:#ffa502}
</style>
</head>
<body>

  <!-- Header -->
  <div class="top-bar">
    <div class="brand">👑 كوين شوب</div>
    <div class="search">
      <input id="q" type="search" placeholder="🔎 ابحث عن منتج..." oninput="doSearch(this.value)"/>
    </div>
    <button class="cart-btn" id="openCart">السلة <span class="badge" id="cartCount">0</span></button>
  </div>

  <!-- Sidebar quick links + Accordion -->
  <aside class="sidebar">
    <h3>الأقسام</h3>
    <div class="links">
      <a href="#makeup">💄 المكياج</a>
      <details>
        <summary>🧴 العناية (مغلق إلى أن يضغط الزبون)</summary>
        <div class="subcats">
          <a href="#hair">العناية بالشعر</a>
          <a href="#skin">العناية بالبشرة</a>
          <a href="#face">العناية بالوجه</a>
          <a href="#body">العناية بالجسم</a>
          <a href="#lips">العناية بالشفاه</a>
          <a href="#sensitive">العناية بالمنطقة الحساسة</a>
          <a href="#oral">العناية بالفم والأسنان</a>
          <a href="#hands">العناية باليدين</a>
          <a href="#feet">العناية بالقدمين</a>
        </div>
      </details>
      <a href="#lenses">👁️ العدسات</a>
      <a href="#perfume">🌸 العطور</a>
      <a href="#watches">⌚ الساعات</a>
    </div>

    <h3>روابط مهمة</h3>
    <div class="links">
      <a href="about.html">من نحن</a>
      <a href="terms.html">الشروط والأحكام</a>
      <a href="privacy.html">سياسة الخصوصية</a>
      <a href="shipping.html">الشحن والتوصيل</a>
      <a href="returns.html">الاستبدال والاسترجاع</a>
      <a href="faq.html">الأسئلة الشائعة</a>
      <a href="care.html">اهتماماتنا بكم</a>
      <a href="blog.html">المدونة</a>
    </div>
  </aside>

  <!-- Welcome -->
  <section class="welcome">
    <h2>أهلًا وسهلًا بكم في <span style="color:var(--pink)">Queen Sh0op</span> 🌸</h2>
    <p>منتجات أصلية 100% مع توصيل سريع داخل عُمان ودول الخليج 🚚</p>
  </section>

  <!-- Products -->
  <main>
    <h3 class="section-title">🛍️ منتجاتنا</h3>
    <div id="grid" class="products"></div>
  </main>

  <!-- Reviews -->
  <section class="reviews">
    <h3>💬 آراء الزبائن</h3>
    <form id="reviewForm" onsubmit="saveReview(event)">
      <div class="row">
        <div class="field">
          <label>الاسم</label>
          <input id="revName" required/>
        </div>
        <div class="field">
          <label>التقييم</label>
          <select id="revStars" required>
            <option value="5">⭐⭐⭐⭐⭐ (5)</option>
            <option value="4">⭐⭐⭐⭐ (4)</option>
            <option value="3">⭐⭐⭐ (3)</option>
            <option value="2">⭐⭐ (2)</option>
            <option value="1">⭐ (1)</option>
          </select>
        </div>
      </div>
      <div class="field">
        <label>رأيك</label>
        <textarea id="revText" rows="3" required></textarea>
      </div>
      <button class="btn primary" type="submit">إضافة التقييم</button>
    </form>
    <div id="reviewsList"></div>
  </section>

  <!-- Floating contact -->
  <div class="floating">
    <a class="float-btn" href="https://wa.me/96896036550" target="_blank">💬 واتساب</a>
    <a class="float-btn ig" href="https://instagram.com/queen_sh00p" target="_blank">📸 إنستجرام</a>
  </div>

  <!-- Cart -->
  <div id="overlay" class="overlay" onclick="toggleCart(false)"></div>
  <aside id="cart" class="cart" aria-label="سلة التسوق">
    <h2>🛒 سلة التسوق</h2>
    <div id="cartItems"></div>
    <div class="total"><span>الإجمالي</span><span id="total">0.00 ر.ع</span></div>
    <button class="checkout-btn" onclick="openCheckout()">إتمام الشراء</button>
  </aside>

  <!-- Checkout modal -->
  <div id="checkout" class="modal" aria-hidden="true">
    <div class="sheet">
      <h3>إتمام الطلب</h3>
      <form id="checkoutForm" onsubmit="confirmOrder(event)">
        <div class="row">
          <div class="field"><label>الاسم الكامل</label><input id="name" required/></div>
          <div class="field"><label>رقم الهاتف</label><input id="phone" inputmode="numeric" required/></div>
        </div>
        <div class="field"><label>العنوان</label><input id="address" required/></div>
        <div class="pay-options">
          <label><input type="radio" name="pay" value="visa" /> فيزا</label>
          <label><input type="radio" name="pay" value="master" /> ماستر كارد</label>
          <label><input type="radio" name="pay" value="cod" checked /> عند الاستلام</label>
        </div>
        <div class="actions">
          <button type="button" class="btn cancel" onclick="closeCheckout()">إلغاء</button>
          <button type="submit" class="btn primary">تأكيد الطلب</button>
        </div>
      </form>
    </div>
  </div>

<script>
/* ---------- بيانات المنتجات (بدّلي الصور داخل مجلد images) ---------- */
const PRODUCTS = [
  {id:1, name:"كريم أساس", price:7.0, img:"images/product1.jpg", cat:"makeup"},
  {id:2, name:"سيروم ترطيب", price:9.9, img:"images/product2.jpg", cat:"skin"},
  {id:3, name:"ماسك فيتامين C", price:5.7, img:"images/product3.jpg", cat:"face"},
];

/* ---------- رسم المنتجات ---------- */
const grid = document.getElementById('grid');
function renderProducts(list=PRODUCTS){
  grid.innerHTML='';
  list.forEach(p=>{
    const card=document.createElement('div');
    card.className='product';
    card.innerHTML=`
      <img src="${p.img}" alt="${p.name}" onerror="this.src='images/placeholder.png'">
      <div>${p.name}</div>
      <div class="price">${p.price.toFixed(2)} ر.ع</div>
      <button class="add" onclick="addToCart(${p.id})">➕ أضف إلى السلة</button>
    `;
    grid.appendChild(card);
  });
}
renderProducts();

/* ---------- بحث ---------- */
function doSearch(q){
  q=q.trim();
  if(!q){ renderProducts(); return; }
  const res=PRODUCTS.filter(p=>p.name.includes(q));
  renderProducts(res);
}

/* ---------- السلة ---------- */
let cart=[];
function addToCart(id){
  const item=PRODUCTS.find(p=>p.id===id);
  cart.push(item);
  updateCart();
  toggleCart(true);
}
function removeFromCart(index){
  cart.splice(index,1);
  updateCart();
}
function updateCart(){
  const list=document.getElementById('cartItems');
  list.innerHTML='';
  let total=0;
  cart.forEach((it,i)=>{
    total+=it.price;
    const row=document.createElement('div');
    row.className='cart-item';
    row.innerHTML=`<div>${it.name} <small>${it.price.toFixed(2)} ر.ع</small></div>
                   <button class="remove" onclick="removeFromCart(${i})">حذف</button>`;
    list.appendChild(row);
  });
  document.getElementById('total').textContent=total.toFixed(2)+' ر.ع';
  document.getElementById('cartCount').textContent=cart.length;
}
function toggleCart(show){
  document.getElementById('cart').classList.toggle('open',show);
  document.getElementById('overlay').classList.toggle('show',show);
}
document.getElementById('openCart').onclick=()=>toggleCart(true);

/* ---------- الدفع ---------- */
function openCheckout(){
  if(!cart.length){ alert('السلة فارغة'); return; }
  document.getElementById('checkout').classList.add('show');
}
function closeCheckout(){
  document.getElementById('checkout').classList.remove('show');
}
function confirmOrder(e){
  e.preventDefault();
  const name=document.getElementById('name').value.trim();
  const phone=document.getElementById('phone').value.trim();
  const address=document.getElementById('address').value.trim();
  const pay=document.querySelector('input[name="pay"]:checked').value;

  if(!name || !phone || !address){ alert('رجاءً املئي البيانات كاملة'); return; }

  alert('✅ تم تأكيد الطلب.\nطريقة الدفع: '+ (pay==='cod'?'عند الاستلام':(pay==='visa'?'فيزا':'ماستر')));

  // تفريغ السلة
  cart=[]; updateCart(); closeCheckout(); toggleCart(false);
}

/* ---------- آراء الزبائن ---------- */
const REV_KEY='qs_reviews';
function getReviews(){ return JSON.parse(localStorage.getItem(REV_KEY)||'[]'); }
function setReviews(d){ localStorage.setItem(REV_KEY,JSON.stringify(d)); }
function renderReviews(){
  const wrap=document.getElementById('reviewsList');
  const data=getReviews();
  wrap.innerHTML = data.length? '' : '<p>لا توجد آراء بعد.</p>';
  data.forEach(r=>{
    const div=document.createElement('div');
    div.className='review';
    div.innerHTML=`<div><strong>${r.name}</strong> · <span class="stars">${'★'.repeat(r.stars)}</span></div>
                   <div>${r.text}</div>`;
    wrap.appendChild(div);
  });
}
function saveReview(e){
  e.preventDefault();
  const name=document.getElementById('revName').value.trim();
  const stars=+document.getElementById('revStars').value;
  const text=document.getElementById('revText').value.trim();
  if(!name || !text) return;
  const data=getReviews(); data.unshift({name,stars,text,ts:Date.now()}); setReviews(data);
  e.target.reset(); renderReviews(); alert('شكراً على رأيك 💖');
}
renderReviews();
</script>
</body>
</html>
